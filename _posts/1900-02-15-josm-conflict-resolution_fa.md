---
layout: doc-rtl
title: حل تداخل در JOSM
permalink: /fa/josm/josm-conflict-resolution/
lang: fa
category: josm
---

حل تداخل در JOSM
====================

تاریخ بازبینی ۱۳۹۵/۰۷/۰۶  

گاهی اوقات شما در JOSM مشغول به کار هستید و زمانی که می‌خواهید تمام ویرایشهای زیبایتان را بارگذاری کنید، یک پیام زننده که از یک تداخل شکایت می‌کند مشاهده می‌کنید.  
![conflict detected][]  
آنچه که اتفاق افتاده این است که شما مقداری داده را دانلود کرده‌اید که شامل یک نقطه است که ما آنرا گره A می‌خوانیم، سپس در حالی که شما در حال ویرایش بودید، یک نفر دیگر نیز گره A را دانلود کرده و آنرا تغییر داده و تغییراتش را در OpenStreetMap ذخیره هم کرده است. حالا وقتی که شما سعی در آپلود نسخه خود از گره A دارید، نسخه آن با نسخه ذخیره شده در OSM متفاوت است. بنابراین JOSM نمی‌داند کدام نسخه از گره A را باید ذخیره کند.  

تداخلات
----------

گاهی اوقات، JOSM خود قادر است که حل تداخل را خودش بفهمد و پیامی مانند زیر به شما می‌دهد:  
![resolved automatically][]  
این به آن معنی است که JOSM به طور خودکار تصمیم گرفته که اقلام موجود در مجموعه داده‌های محلی شما را به سرور اصلی آپلود نکند، زیرا آنها قبلاْ توسط کاربر دیگری حذف شده‌اند. با این وجود JOSM بعضی از تداحلات را به سادگی نمیتواند حل کند و بنابراین تصمیم گیری را بر عهده کاربر می‌گذارد تا تعیین کند که بهترین شیوه عمل چیست. این به آن معنی است که حل تداخل بر عهده شما گذاشته شده است.  

این به شما می‌گوید که به تمام تداخلات خود در لایه ۱ در **Dialog List** نگاه کنید:  
![warning unresolved][]  

این پنجره به شما هشداری را نشان می‌دهد که می‌گوید آیا مایلید تداخل با ویرایش‌هایتان را تجربه کنید. اگر بر روی سرور چک کنید قادر خواهید بود مشکلات ویرایش‌تان را برطرف کنید:  
![check on server][]  

این هشدار به شما می گوید که JOSM نتوانسته یک گره را حذف کند زیرا هنوز در یک راه از آن استفاده می‌شود. برای اصلاح این، کاربر باید قبل از آپلود داده‌ها به JOSM بازگردد و تداخل را حل کند.  
![still in use][]  

حل تداخلات
--------------------

روند حل و فصل تداخل بسیار ساده است، اگرچه ممکن است در ابتدا در JOSM گیج کننده باشد. اساساْ، JOSM برای هر تداخل دو گزینه پیش روی شما قرار میدهد - نسخه شما از یک شی و نسخه ای که در سرور از آن شی قرار دارد. باید انتخاب کنید که آیا نسخه خود را حفظ می‌کنید یا اینکه نسخه جدید روی سرور بایستی باقی بماند.  
شما ممکن است فکر کنید، "البته من نسخه بهتر است!" و شاید شما درست است. اما در ابتدای این فصل به مثال ما فکر کنید. شاید در حالی که شما مشغول ویرایش بود، Mapper دیگری اطلاعات زیادی را به یکی از گره ها در مجموعه داده های شما اضافه کرد. اگر شما نسخه خود را بر روی نسخه خود را انتخاب کنید، شما تمام اطلاعات ارزشمند اضافه شده را از دست خواهید داد. از این رو باید در نظر بگیرید که نسخه خود را حفظ کنید یا آن را با خودتان ترکیب کنید.  
هنگامی که یک پنجره بالقوه ظاهر می شود، بهتر است دکمه "Synchronize ... only" را انتخاب کنید. ممکن است لازم باشد این کار را برای بیش از یک شیء انجام دهید، اما بهتر است که یک درگیری را حل کنید.  
[گره همگام سازی] []  
هنگامی که شما بر روی این دکمه کلیک میکنید، یک پنجره پاپ آپ در اختیار شما قرار میگیرد. پیام خطا ممکن است پیچیده باشد اما ساده است. شما می دانید چه نوع از درگیری شما با نماد مربع قرمز در برگه بالا. منازعه در مثال زیر به خواص، مانند محل و وجود شی اشاره می کند. به همین دلیل مختصات و حالت حذف شده ذکر شده است.  

**انواع تداخلات:**

- **خواص:** شی جابجا شده (مختصات) یا حذف شده است  
- **تگ‌ها:** تگ‌ها مطابقت ندارند  
- **گره‌ها:** در لیست گره‌های دو راه اختلاف وجود دارد  
- **اعضا:** در لیست اعضای یک رابطه اختلاف وجود دارد  
![properties with conflicts][]  

اختلافات فقط با دو ویرایش مختلف در یک زمان ظاهر می شود. اگر سه یا چند درگیری وجود دارد، پس زنجیره ای از درگیری ها ظاهر خواهد شد. بنابراین شما فقط باید در زمان دو تا از درگیری ها را انتخاب کنید یا ادغام کنید. شما می توانید نسخه خود را انتخاب کنید، نسخه دیگر و یا، در برخی موارد، این دو را ادغام کنید.  

در مثال زیر شما گزینه ادغام را ندارید. اگر فکر می کنید که ویرایش های شما درست است، روی ستون اول یا نسخه من کلیک کنید. اگر فکر می کنید که ویرایش های دیگر بهتر است، بر روی نسخه خود کلیک کنید.  
![conflicts resolved][]  

هنگامی که شما انتخاب کرده اید کدام نسخه ای که فکر می کنید بهترین است، سپس روی «اعمال رزولوشن» کلیک کنید. چند پنجره دیگر ظاهر می شوند و شما می توانید راه خود را برای آپلود ویرایش های خود داشته باشید. ویرایشهای بیشتری انجام دهید سپس روی «آپلود» کلیک کنید. شما یک پنجره باز می کنید که می گوید:  
![command stack][]  

در منوی ویندوز شما یک Dialog لیست اختلافات دارید. این پنجره یک لیست از درگیری ها را نمایش می دهد. تعداد کل اختلافات حل نشده در header نشان داده شده است. شما می توانید با کلیک کردن روی یک درگیری، انتخاب کنید یا حل کنید. این مفید است وقتی که شما در برخورد با بسیاری از درگیری ها هستید.  
![one unresolved][]  
 تا زمانی که این لیست خالی باشد، نمی‌توانید تغییرات خود را آپلود کنید.  

راه‌های اجتناب از تداخل
------------------------

### مرتباْ آپلود کنید

برای به حداقل رساندن شانس و تعداد درگیری ها، ویرایشهای خود را به طور منظم آپلود کنید. مناقشات بیشتر برای کسانی که تمایل به ذخیره منطقه در حال کار بر روی سرور محلی خود را دارند و چندان منتظر آپلود آن هستند. بهتر است منطقه ای را که روی آن کار می کنید دانلود کنید، آنرا ویرایش کنید و بلافاصله آن را آپلود کنید. هرچه زمان بین بارگیری داده ها و آپلود تغییرات به آن داده ها بیشتر باشد، احتمال این است که تا آن زمان کسی چیزی را ویرایش کرده باشد. اگر در یک Mapathon و ویرایش یک ویژگی مانند بزرگراه باشید که ممکن است توسط دیگران نیز کار کند، آپلود اغلب، شاید هر 6 ویرایش!  

### در محدوده دانلود شده ویرایش کنید

در حال ویرایش در ناحیه خاصی که دانلود کرده اید خطر ریسک را کم می کند. اطمینان حاصل کنید که خارج از منطقه ای که دانلود کرده اید را ویرایش کنید. شما به راحتی می توانید ببینید که کدام مناطق خارج از منطقه دانلود خود را در JOSM، چرا که پس زمینه از خطوط مورب ساخته شده به جای جامد سیاه و سفید.  

![edit outside area][]  

خلاصه
--------
هنگامی که شما در JOSM ویرایش می کنید، خطر ریسک درگیر شدن در درگیری ها را افزایش می دهد. مناقشات رخ می دهد زمانی که یک شی توسط دو نفر در همان زمان ویرایش شده است. با درک آنچه که درگیر است و چگونه با آن برخورد کنید، می توانید اطمینان حاصل کنید که بهترین ویرایش ممکن برای OpenStreetMap ذخیره می شود.  


<!-- More stuff, could go into an additional chapter - DO NOT TRANSLATE
## ضمیمه. تداخلات خاص

### تداخلات تگ

اگر برچسب‌های یک نسخه از یک شی از برچسب‌های
نسخه دیگر آن متفاوت باشند، کادر محاوره‌‌ای تداخلات در زبانه تگ‌ها ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image08.png) را 
نشان می‌دهد. روی زبانه کلیک کنید تا کادر محاوره‌ای برای حل تداخل تگ
نشان داده شود.

سه جدول در این کادر محاوره‌ای وجود دارد، از چپ به راست:

1. نسخه من: تگ‌های اولین نسخه شیء شرکت‌کننده 
    در این تداخل را نشان می‌دهد. اینها معمولاْ تگ‌های نسخه
    موجود در اطلاعات محلی شما هستند.
2. نسخه ادغام شده: تگ‌های ادغام شده را نشان می‌دهد. این جدول در ابتدا
    خالی است. هرچه تداخل تگ بیشتری حل کنید، مقدار تگهای بیشتری در 
    این جدول نمایش داده خواهد شد.
3. نسخه آنها: تگ‌های نسخه دوم شیء را که
    این تداخل حضور دارند را نشان می‌دهد. اینها معمولاْ تگهایی هستند
    که در نسخه حال حاضر شیء بر روی سرور ذخیره شده‌اند.

در مثال زیر هر دو نسخه تگ "نام" دارند. مقادیر در
هر دو نسخه متفاوت هستند و بنابراین JOSM 
ردیف آنها را با رنگ پس‌زمینه قرمز نشان می‌دهد. ارزش نسخه اول 
"مدرسه متوسطه" است، نسخه مقابل دارای ارزش "مدرسه ابتدایی"
 است. حالا شما باید تصمیم بگیرید کدام یک از این ارزش‌ها را می خواهید حفظ کنید
و کدام را دور می‌اندازید.

![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image07.png)

روی مقداری که می‌خواهید نگه دارید، در این مثال مورد
ارزش سمت چپی، کلیک کنید. اگر بر روی مقدار دوبار کلیک کنید یا اینکه
روی ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image21.png) کلیک کنید. شما تصمیم گرفتید که این مقدار را نگه دارید و
مقدار طرف مقابل را دور بیندازید. حالا جدول وسطی مقداری که نگه داشته شده را نشان می‌دهد
و رنگ پس‌زمینه به سبز تبدیل می‌شود.

![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image10.png)

هنگامی که دکمه Apply Resolutionis فعال شود می‌توانید تصمیم خود را اعمال کنید.
مقادیری که انتخاب کرده‌اید اعمال می‌شوند و کادر محاوره‌ای بسته می شود.

![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image03.png)

## حل اختلاف لیست گره دو نسخه از یک راه

اگر آیکن ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image08.png) را در زبانه گره‌ها ببینید، شما
باید اختلافات در فهرست
[گره‌های](http://josm.openstreetmap.de/wiki/Help/Concepts/Object) دو
[راه](http://josm.openstreetmap.de/wiki/Help/Concepts/Object) را حل کنید.
سه ستون در پانل مربوطه وجود دارد (تصویر زیر را ببینید):

1. جدول سمت چپ لیست گره‌های نسخه محلی 
    شی را نشان می‌دهد.
2. جدول سمت راست لیست گره‌های سرور را نشان می دهد
    شی را نشان می‌دهد.
3. جدول وسط لیست گره‌های ادغام شده راه را نشان می‌دهد

در ابتدا، جدول وسط خالی است. اکنون باید تصمیم بگیرید که کدام گره
را از مجموعه داده‌های محلی (جدول چپ) و کدام گره را از 
مجموعه داده‌های سرور (جدول راست) نگهدارید.

![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image24.png)

### جریان کار استاندارد

جریان کار استاندارد برای حل تداخل لیست گره دو
[نسخه
شی](http://josm.openstreetmap.de/wiki/Help/Concepts/Object) شامل
سه مرحله است:

1. گره‌ها را از هر نسخه شیء انتخاب کنید و لیست گره‌های حاصل را 
    در صورت لزوم دوباره مرتب کنید.
2. با کلیک روی دکمه زیر لیست گره‌های ادغام شده را فریز کنید
    ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image16.png). هنگامی که لیست گره‌های ادغام شده را فریز می کنید
    به JOSM می‌گوییید که تمام تداخلات در لیست گره حل شده است.
3. حل انجام شده  را  اعمال کنید

### جریان کار ساده: لیست گره‌های نسخه محلی شیء خود را نگه دارید

مثال زیر، جریان کار را زمانی که تصمیم گرفته‌اید تمام گره‌ها را از همان شیء محلی خود به همان ردیف نگه دارید را نشان می‌دهد.

- اول، همه عناصر جدول چپی را (با استفاده از ماوس یا توسط 
    با فشار دادن Ctrl-A در جدول) انتخاب کنید (تصویر بعدی را ببینید):

    ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image04.png)

- سپس روی  
    ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image19.png)
    برای کپی گره‌های انتخاب شده به جدول وسطی با گره‌های ادغام شده کلیک کنید:

    ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image01.png)

- در نهایت روی
    ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image16.png)
    برای فریز لیست گره‌های ادغام شده کلیک کنید:

    ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image20.png)

    آیکن زبانه گره اکنون به  
    ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image00.png)
    تغییر می‌کند و می‌توانید تصمیمات ادغام را اعمال کنید.

### پشتیبانی از مقایسه لیست گره‌ها

تفاوت بین لیست گره از دو نسخه شیء، به ویژه برای راه هایی با بسیاری از گره ها، می تواند دشوار باشد.

Dialog Dialogue شما را در پیدا کردن تفاوت ها پشتیبانی می کند. این می تواند دو لیست از گره ها را نمایش دهد (لیست گره "من"، لیست گره های ادغام شده و لیست "گره" آنها) را مقایسه می کند و می تواند تفاوت بین آنها را با رنگ های پس زمینه خاص ارائه دهد.

از جعبه ترکیبی زیر شما می توانید انتخاب کنید که جفت لیست گره برای مقایسه:

![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image15.png)

1. من با آنها: جدول چپ را با جدول سمت راست مقایسه می کند
    در گفتگو اختالف
2. من با ادغام: جدول چپتر با جدول وسط را در مقایسه می کند
    گفتگوی تقابل
3. آنها با ادغام: جدول میانی را با جدول سمت راست مقایسه می کند
    در گفتگو اختالف

بسته به موقعیت یک گره در لیست پس زمینه های مختلف
رنگ ها استفاده می شود:

1. گره فقط در این لیست هست. در لیست مقابل وجود ندارد:
    ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image13.png)
2. گره در هر دو لیست هست، اما در موقعیت‌های مختلف قرار دارد:
    ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image02.png)
3. پس زمینه سفید به این معنی است که یک گره در هر دو لیست
    موقعیت یکسانی دارد.

    ![]({{site.baseurl}}/images/intermediate/en_conflict_resolution_image17.png)

-->

[conflict detected]: /images/josm/conflict-detected.png
[resolved automatically]: /images/josm/resolved-automatically.png
[warning unresolved]: /images/josm/warning-unresolved.png
[check on server]: /images/josm/check-on-server.png
[still in use]: /images/josm/still-in-use.png
[synchronize node]: /images/josm/synchronize-node.png
[properties with conflicts]: /images/josm/properties-with-conflicts.png
[conflicts resolved]: /images/josm/conflicts-resolved.png
[synchronize node]: /images/josm/synchronize-node.png
[command stack]: /images/josm/command-stack.png
[one unresolved]: /images/josm/one-unresolved.png
[edit outside area]: /images/josm/edit-outside-area.png