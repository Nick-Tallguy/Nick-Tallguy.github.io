---
layout: doc-rtl
title: تصحیح آفست تصاویر
permalink: /fa/josm/correcting-imagery-offset/
lang: fa
category: josm
---

آفست تصاویر
===============

> تاریخ بازبینی ۱۳۹۴/۰۶/۳۰  

ارائه‌دهندگان تصاویر معمولاْ کارهای بسیار خوبی در جهت ژئورفرنس کردن تصاویرشان انجام می‌دهند، اما گاهی اوقات تصاویر خارج از موقعیت قرار دارند. این موضوع به خصوص در مناطق تپه‌ای و کوهستانی صدق می‌کند که در آنها پهن کردن و کشیدن یک تصویر مسطح روی یک تکه از زمین دارای پستی و بلندی زیاد به سختی قابل انجام است. هنگامی که تصاویر را در JOSM بارگذاری می‌کنید، امکان اینکه ده متر یا بیشتر از موقعیت واقعی آن تفاوت داشته باشد وجود دارد. به این **افست تصویر** گفته می‌شود.  

در تصویر زیر توجه کنید که دو عکس هوایی جداگانه از هم به یکدیگر وصل شده و با هم ادغام شده اند. از آنجا که ژئورفرنس کردن يك فرآيند كامل نيست، تصاوير به طور كامل در تراز هم قرار ندارند. از این رو یکی یا هر دو آنها باید نادرست باشد.  

![Misaligned imagery][]

ما در مورد دو راه اصلی ساخت نقشه ها آموخته ایم - یکی از این ها با استفاده از تصاویر هوایی برای شناسایی ویژگی های زمین است و دیگری با استفاده از GPS برای ضبط آهنگ ها و ایستگاه های راه دور و سپس آنها را به OpenStreetMap اضافه کنید. مزیت تصویر هوایی بسیار واضح است. این شما را قادر می سازد، نقشه گیر، برای دیدن کل تصویر، مشاهده جزئیات مختلف از تصویر، در نظر گرفتن دانش خود را از منطقه، و به راحتی ردیابی جاده ها، ساختمان ها، و مناطق. یکی از مزیت های کلیدی GPS، این است که از تصاویر جابجا نمی شود. GPS همیشه GPS را با طول و عرض جغرافیایی مناسب ارائه می دهد. تنها استثنا زمانی است که سیگنال های ماهواره ای توسط ساختمان های بلند یا کوه ها متوقف شده، اما در این مورد، خطا را آسان می کند. ردیابی GPS در این تصویر را مشاهده کنید، در مقایسه با لایه تصویربرداری هوایی Bing زیر آن:  

![Aerial vs GPS][]

به دلیل آنچه که اکنون می دانیم، واضح است که ردیابی GPS احتمالا دقیق است و تصویر زیر آن خارج از محل است. بنابراین اکنون باید بپرسیم "اگر تصاویر ممکن است خارج از محل قرار بگیرند، چگونه می توانیم از آن استفاده کنیم و نقشه های دقیق ایجاد کنیم؟"  

تصحیح تصحیح تصویر
-------------------------

پاسخ به سوال قبلی این است که ما می توانیم تصاویر را حرکت دهیم تا با چیزهایی که ما می دانیم در مکان صحیح، مانند مسیرهای جیپیاس، هماهنگ باشد. آسان است که تصحیح تصاویر را در JOSM اصلاح کنید.  

بهترین راهنمایی برای تنظیم تصاویر، جاده هایی هستند که مسیرهای جاده را دنبال می کنند. و جاده های GPS بیشتر که شما باید مرجع، دقیق تر شما می توانید تصاویر خود را تراز کنید. از آنجاییکه کاربران OpenStreetMap اغلب مسیرهای GPS خود را به پایگاه داده OSM آپلود می کنند، می توانیم آنها را دانلود کنیم و از آنها برای ترسیم تصاویر استفاده کنیم.  

- بر روی دکمه دانلود کلیک کنید. ! [دکمه دانلود JOSM] [] {: height = "24px"}  

- کادر کنار "GPS Data Raw" را علامت بزنید! [دانلود اطلاعات GPS خام] [] {: height = "24px"} در بالای پنجره دانلود. منطقه خود را انتخاب کنید و روی "دانلود" کلیک کنید.  

- این یک لایه اضافی برای JOSM حاوی آهنگ های GPS دانلود می کند. بسته به اینکه چندین آهنگ توسط کاربران OSM آپلود شده است، ممکن است چند آهنگ (یا حتی بدون آهنگ) را مشاهده کنید:  

![Few GPS tracks from OSM][]

- یا ممکن است آهنگ های بسیاری را ببینید:  

![Many GPS tracks from OSM][]

- برای تنظیم یک لایه تصویری، بر روی دکمه «تنظیم خنثیسازی تصویر» کلیک کنید! [تنظیم دکمه افست تصویر] [] {: height = "24px"} در بالای JOSM.  

- نادیده گرفتن جعبه ای که بالا میآید، با استفاده از ماوس خود برای کشیدن لایه تصاویر به طوری که آن را با GPS آهنگ درست aligned. مسیرهای جیپیاس باید با جاده ها در تصاویر تا حد ممکن نزدیکتر باشند. اعداد افست را در تغییر جعبه مشاهده خواهید کرد.  

![Adjust imagery offset][]

- اگر دوست دارید، می توانید این تنظیمات افست را با وارد کردن یک نام نشانه و سپس کلیک بر روی OK را ذخیره کنید. سپس شما می توانید تنظیمات مشابه را با رفتن به تصاویر ‣ از بین بردن عکس و کلیک بر روی نشان خود بطور خودکار تنظیم کنید.  
- اگر نمی خواهید افست را ذخیره کنید، به راحتی بدون وارد کردن نام نشانه روی OK کلیک کنید.  

اگر مسیرهای جیپیاس در OpenStreetMap وجود نداشته باشند و شما GPS ندارید، چه؟ بدون آهنگ های جیپیاس، تصاویر را با هم ترکیب می کند. اگر این یک ناحیه نسبتا خالی است (انجام نقشه خیلی زیاد نیست)، ممکن است انتخاب کنید که به سادگی از تصاویر استفاده کنید و داده ها را بعدا اصلاح کنید. بهتر است که نقشه یک منطقه 20 یا 30 متر افقی داشته باشیم تا نقشه را به طور کامل نگذاریم.  

اگر شما می توانید طول و عرض جغرافیایی یک جسم را بر روی زمین بطور مثبت شناسایی کنید، می توانید اطمینان حاصل کنید که تصاویر با قرار دادن این مراحل به درستی قرار می گیرد:  

1. شناسایی جسم که موقعیت شما را در تصاویر می داند.  
2. در عرض جغرافیایی و جغرافیایی در گوشه پایین سمت چپ JOSM کلیک کنید. [JOSM LAT] [] {: height = "24px"}  
3. در گفت و گو که باز می شود، عرض و طول جغرافیایی که شما می دانید را وارد کنید و تعداد کمی برای Zoom، حدود پنج یا ده را وارد کنید.  
[JOSM گفتگوی لاتین] []
4. این نقشه زوم و مرکز را به طول و عرض جغرافیایی شما متمرکز می کند. اکنون می توانید تصاویر را همانطور که قبلا انجام دادید حرکت دهید تا ویژگی شناخته شده شما در موقعیت صحیح متمرکز باشد.  

اگر، از سوی دیگر، منطقه قبلا به طور گسترده نقشه برداری شده است، و امیدواریم نقشه های قبلی اشیا را در مکان های صحیح خود بکشند. در این مورد، شما می توانید تصاویر را به نقشه OSM تراز کنید، اما مراقب باشید! نقشه های دیگر ممکن است از افست تصویری آگاه نباشند و ممکن است هنگام نقشه گذاری آنها اشتباهاتی مرتکب شده باشند.  


پایگاه داده افست تصویری
---------------------------

حالا شما می دانید چطور مراقب باشید و تصحیح تصویر را درست کنید، اما یکی از مشکلات عمده این روش است که ما تا کنون نادیده گرفته شده است. اگر هر کاربر OpenStreetMap تصاویر را به صورت متفاوتی تنظیم کند، هر کس با زمینه های کمی متفاوت نقشه می گیرد.  

تصور کنید که شما نقشه کوچک یک شهر کوچک را می فهمید و متوجه می شوید که تصاویر Bing 15 متر به سمت شمال است. بنابراین تصاویر را تنظیم کنید و سپس آن را برای نقشه کل شهر با دقت مورد استفاده قرار دهید. اما پس از آن کسی دیگر می خواهد چیزی را به نقشه اضافه کند، به طوری که آنها داده ها را بارگیری می کنند و تصاویر Bing را بارگذاری می کنند، اما آنها در مورد عکس هایی که شما کشف کرده اید نمی دانند! آنها فکر می کنند که چیزی اشتباه است و تمام اجسام در شهر 15 متر نابجا هستند و آنها شروع به حرکت می کنند، درست نیست! این می تواند برای داده های نقشه شهر فاجعه آمیز باشد.  

به همین دلیل مهم است که تمام کاربران از جبران خسارت تصویری مطلع باشند و همیشه باید قبل از نقشه برداری یک منطقه را بررسی کنند. برای کمک به این مشکل، برخی از افراد هوشمند یک پلاگین ایجاد کرده اند که به کاربران اجازه می دهد صرفه جویی در اطلاعات را در پایگاه داده و اشتراک گذاری آن با دیگران داشته باشند. بیایید ببینیم چگونه این کار می کند:  

- منوی تنظیمات را در JOSM باز کنید و روی زبانه پلاگین کلیک کنید. [زبانه افزونه JOSM] [] {: height = "24px"}  

- پیدا کردن افزونه به نام "imagery_offset_db" و کادر کنار آن را علامت بزنید.  

![Imagery_offset_db plugin][]

- روی OK کلیک کنید برای تکمیل نصب افزونه باید JOSM را مجددا راه اندازی مجدد کنید.  

به همان شیوه ای که می توانید صرفه جویی را به عنوان بوک مارک ها ذخیره کنید، این افزونه به شما اجازه می دهد صرفه جویی در یک پایگاه داده مرکزی را ذخیره کنید و برای دسترسی به آفستایی که سایر کاربران ایجاد کرده اند دسترسی داشته باشید. از این رو، اگر یک Mapper یک برآورد تصویری در یک منطقه ایجاد کند، کاربران دیگر می توانند از همان جابجایی با نقشه استفاده کنند.  

هنگام استفاده از لایه های تصویر هوایی، شما همیشه باید برای تعرفه های موجود چک کنید و هنگامی که افست خود را ایجاد می کنید، همیشه باید آن را به این پایگاه داده ذخیره کنید.  


اضافه کردن تفکیک تصویر از پایگاه داده
------------------------------------

وقتی یک لایه تصویر اضافه می کنید، افزونه جدید به شما هشدار می دهد که باید پایگاه داده تصاویر را برای یک افست موجود بررسی کنید. شما یک آیکون با علامت تعجب سرخ روی آن در بالای JOSM خواهید دید، مانند این:  

![Imagery offset notification][]

- بر روی دکمه کلیک کنید و افزونه با پایگاه داده ارتباط برقرار خواهد کرد تا ببیند آیا آفست های موجود در این منطقه وجود دارد.  
- در اینجا ما اطلاعات OSM و GPS را در کویته، بالی، اندونزی دانلود کرده ایم. در این مورد، ما یک افست موجود پیدا کرده ایم. بر روی آن کلیک کنید تا به نقشه اعمال شود.  

![Offset in Kuta bali][]

- این باعث می شود که لایه تصویر تغییر کند. با این حال، هنگامی که جابجایی شخص دیگری را مانند این اضافه می کنیم، باید بررسی کنیم که با مقایسه با جاده های GPS معتبر است.  

![Comparing imagery offset from GPS tracks][]

- ما می توانیم ببینیم که لایه های تصویری در واقع ناهموار هستند. ما نمی خواهیم که کاربران دیگر از این افست استفاده کنند، بنابراین ما باید آن را به عنوان نادرست در پایگاه داده علامت گذاری کنیم. دوباره روی دکمه "Offsets" کلیک کنید (علامت تعجب قرمز دیگری نخواهد داشت).  

![Offsets button][]

- این بار زمانی که گفت و گو باز می شود، بر روی افست کلیک راست کرده و روی دکمه "Offset Offset" کلیک کنید.  

![Deprecate offset][]

- برای تأیید روی "بله" کلیک کنید.  
- شما باید یک دلیل برای تخفیف این افست را وارد کنید.  

![Deprecate reason][]


اضافه کردن تصاویر به پایگاه داده
------------------------------------

اکنون که ما این جبران کننده را به عنوان "تخفیف" مشخص کردیم، باید یک جبران بهبودی به پایگاه داده اضافه کنیم.  

1. بر روی دکمه "تنظیم عکس تصحیح" کلیک کنید. [تنظیم دکمه افست تصویری] [] {: height = "24px"}  
2. تصاویر را مطابق با جاده های GPS تنظیم کنید. در جعبه OK را کلیک کنید.  
3. حالا به Offset بروید ‣ Store Image Offset ...  
! [ذخیره تصاوير جبران شده] []
4. توضیح افست در جعبه ای که باز می شود را وارد کنید.  
[توصیف افست] []
5. روی OK کلیک کنید. افست شما به پایگاه داده ذخیره خواهد شد.  
6. حالا لایه GPS را پنهان کرده و به اطلاعات OSM در برابر تصاویر به درستی قرار داده اید.  

![Corrected imagery][]

وای نه! کسی این منطقه را با تصاویر ناهموار مقایسه کرده است، بنابراین این منطقه به درستی نقشه نمیباشد. این زمان برای رفع نیاز است.


وب سایت پایگاه داده افست تصویری
--------------------------------

در نهایت، برای کسب اطلاعات بیشتر در مورد پایگاه داده تخفیف، می توانید از وب سایت در [http://offsets.textual.ru/](http://offsets.textual.ru/) بازدید کنید. این لیست تمام آفست ها را که در پایگاه داده آپلود شده اند، و همچنین دارای یک ویژگی نقشه خنک است که در آن جبران تعرفه ها را نشان می دهد، همانطور که می توانید در اینجا ببینید:  

![http://offsets.textual.ru/][]

> آخرین چیزی که باید به خاطر بسپارید این است که تصاویر هرگز نمی توانند همان فاصله را در همه جا جبران کنند! این به ویژه در مناطقی که تپه ها و کوه ها زیاد است، صادق است. بنابراین اگر تصاویر به نظر می رسد در مناطق مختلف متفاوت است، شما باید دوباره آن را حرکت دهید.  

خلاصه
--------

When you are just beginning OpenStreetMap, you don’t need to worry too much about imagery offset.  But if you see another mapper’s edits that seem misaligned from the imagery, you should always consider that there may be an offset before you start changing their objects.  And if you aren't quite ready to deal with offsets yet, just remember that it’s better to map an area 20 or 30 meters offset than to not map it at all.  But when possible, do remember that imagery offset may occur, and use the steps in this chapter to correct it when needed.


[Misaligned imagery]: /images/josm/misaligned-images.png
[Aerial vs GPS]: /images/josm/aerial-vs-gps.png
[JOSM download button]: /images/josm/josm-download-button.png
[Download raw GPS data]: /images/josm/raw-gps-data.png
[Few GPS tracks from OSM]: /images/josm/osm-gps-tracks-few.jpg
[Many GPS tracks from OSM]: /images/josm/osm-gps-tracks-many.jpg
[Adjust imagery offset button]: /images/josm/adjust-imagery-offset-button.png
[Adjust imagery offset]: /images/josm/adjust-imagery-offset.png
[JOSM lat lon]: /images/josm/josm-lat-lon.png
[JOSM lat lon dialogue]: /images/josm/josm-lat-lon-dialogue.png
[JOSM plugins tab]: /images/josm/josm-plugins-tab.png
[Imagery_offset_db plugin]: /images/josm/imagery-offset-db-plugin.png
[Imagery offset notification]: /images/josm/offset-exclamation.png
[Offset in Kuta bali]: /images/josm/offset-kuta-bali.png
[Comparing imagery offset from GPS tracks]: /images/josm/offset-compare-gps.png
[Offsets button]: /images/josm/offsets-button.png
[Deprecate offset]: /images/josm/deprecate-offset.png
[Deprecate reason]: /images/josm/deprecate-reason.png
[Store imagery offset]: /images/josm/store-imagery-offset.png
[Offset description]: /images/josm/offset-description.png
[Corrected imagery]: /images/josm/correctly-placed.png
[http://offsets.textual.ru/]: /images/josm/offset-website.png










